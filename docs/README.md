# The NativeLink documentation

The NativeLink documentation gets deployed to <https://docs.nativelink.com>.

## üìö Stack

The NativeLink documentation uses a custom, highly efficient, high performance
stack. Getting a bunch of bleeding-edge tools to work well together can be
challenging. Feel free to copy-paste it into your own projects.

- [Di√°taxis](https://diataxis.fr/) as overarching documentation philosophy.
- [Bun](https://github.com/oven-sh/bun) as production bundler.
- [Biome](https://biomejs.dev/) as linting toolchain.
- [Astro](https://astro.build/) as meta-framework.
- [Starlight](https://starlight.astro.build/de/) as documentation framework.
- [TailwindCSS 4.0-alpha](https://tailwindcss.com/blog/tailwindcss-v4-alpha) for
  component styling which makes use of [LightningCSS](https://lightningcss.dev/)
  for faster CSS processing.
- [Deno Deploy](https://deno.com/deploy) for deployments.

## üöÄ Common workflows

See [`docs/package.json`](https://github.com/TraceMachina/nativelink/blob/main/docs/package.json)
for build scripts.

This project requires `bun`. The nix flake ships a compatible version.

```bash
# Install dependencies with bun.
bun install

# Rebuild the docs reference.
bun run docs.build

# Generate the simple parts of the autogenerated docs.
bun run docs.generate

# Rebuild everything. Make sure to remove the `dist` directory beforehand.
bun run build

# Serve the dist directory with deno
bun serve

# Run a development server. Doesn't rebuild the autogenerated parts of the docs.
bun dev

# Run formatter and linter checks.
bun check

# Apply formatter and linter fixes.
bun fix

# Test Deno deployments locally. Useful when debugging SSR. Rebuilds the
# autogenerated parts of the docs.
bun preview
```


## üêõ Known issues

- `bun run docs.build` doesn't work on MacOS with the nix version of Bazel.
  As a workaround install Bun and Bazel on your host and build the docs outside the flake.
- `bun dev` doesn't reload the changes in the starlight.conf.ts
